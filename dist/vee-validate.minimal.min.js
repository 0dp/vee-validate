!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VeeValidate=t()}(this,function(){"use strict";function e(e){return e.replace(t,function(e){return e.slice(1)})}var t=/MMMM|MM|DD|dddd/g,i=(function(t){var i={LTS:t.LTS,LT:t.LT,L:t.L,LL:t.LL,LLL:t.LLL,LLLL:t.LLLL,l:t.l||e(t.L),ll:t.ll||e(t.LL),lll:t.lll||e(t.LLL),llll:t.llll||e(t.LLLL)}}({LT:"h:mm aa",LTS:"h:mm:ss aa",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY h:mm aa",LLLL:"dddd, MMMM D YYYY h:mm aa"}),function(e,t){return e.getAttribute("data-vv-"+t)}),n=function(e){var t=["Byte","KB","MB","GB","TB","PB","EB","ZB","YB"],i=0===(e=1024*Number(e))?0:Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,i)).toFixed(2)+" "+t[i]},r=function(e,t,i){return e.setAttribute("data-vv-"+t,i)},s=function(e,t){if(e instanceof RegExp&&t instanceof RegExp)return s(e.source,t.source)&&s(e.flags,t.flags);if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1;return!0}return v(e)&&v(t)?Object.keys(e).every(function(i){return s(e[i],t[i])})&&Object.keys(t).every(function(i){return s(e[i],t[i])}):e===t},a=function(e){var t=i(e,"scope");return!t&&e.form&&(t=i(e.form,"scope")),t||null},o=function(e,t,i){if(void 0===i&&(i=void 0),!e||!t)return i;var n=t;return e.split(".").every(function(e){return Object.prototype.hasOwnProperty.call(n,e)||void 0!==n[e]?(n=n[e],!0):(n=i,!1)}),n},l=function(e,t){var i=t;return e.split(".").every(function(e){return!!Object.prototype.hasOwnProperty.call(i,e)&&(i=i[e],!0)})},u=function(e){var t=[],i=e.split(":")[0];return~e.indexOf(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:i,params:t}},c=function(e){if(!e)return{};var t={};return v(e)?(Object.keys(e).forEach(function(i){var n=[];n=!0===e[i]?[]:Array.isArray(e[i])?e[i]:[e[i]],!1!==e[i]&&(t[i]=n)}),t):"string"!=typeof e?(f("rules must be either a string or an object."),{}):(e.split("|").forEach(function(e){var i=u(e);i.name&&(t[i.name]=i.params)}),t)},d=function(e,t,i){if(void 0===t&&(t=0),void 0===i&&(i=!1),0===t)return e;var n;return function(){for(var r=[],s=arguments.length;s--;)r[s]=arguments[s];var a=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(void 0,r)},t),a&&e.apply(void 0,r)}},f=function(e){console.warn("[vee-validate] "+e)},h=function(e){return new Error("[vee-validate] "+e)},v=function(e){return null!==e&&e&&"object"==typeof e&&!Array.isArray(e)},p=function(e){return"function"==typeof e},m=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},g=function(e,t){e.classList?e.classList.add(t):m(e,t)||(e.className+=" "+t)},y=function(e,t){if(e.classList)e.classList.remove(t);else if(m(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}},b=function(e,t,i){if(e&&t)return i?g(e,t):void y(e,t)},$=function(e){if(p(Array.from))return Array.from(e);for(var t=[],i=e.length,n=0;n<i;n++)t.push(e[n]);return t},L=function(e){for(var t=[],i=arguments.length-1;i-- >0;)t[i]=arguments[i+1];if(p(Object.assign))return Object.assign.apply(Object,[e].concat(t));if(null==e)throw new TypeError("Cannot convert undefined or null to object");var n=Object(e);return t.forEach(function(e){null!=e&&Object.keys(e).forEach(function(t){n[t]=e[t]})}),n},w=function(){return"_"+Math.random().toString(36).substr(2,9)},_=function(e,t){if(v(e)&&(e=$(e)),e.find)return e.find(t);var i;return e.some(function(e){return!!t(e)&&(i=e,!0)}),i},x=function(e){return e&&("SELECT"===e.tagName||~["radio","checkbox","file"].indexOf(e.type))?"change":"input"},E=function(){this.items=[]};E.prototype.add=function(e){arguments.length>1&&(e={field:arguments[0],msg:arguments[1],rule:arguments[2],scope:arguments[3]||null}),e.scope=e.scope||null,this.items.push(e)},E.prototype.update=function(e,t){var i=_(this.items,function(t){return t.id===e});if(i){var n=this.items.indexOf(i);this.items.splice(n,1),i.scope=t.scope,this.items.push(i)}},E.prototype.all=function(e){return e?this.items.filter(function(t){return t.scope===e}).map(function(e){return e.msg}):this.items.map(function(e){return e.msg})},E.prototype.any=function(e){return e?!!this.items.filter(function(t){return t.scope===e}).length:!!this.items.length},E.prototype.clear=function(e){var t=this;e||(e=null);for(var i=0;i<this.items.length;++i)(function(t){return t.scope===e})(t.items[i])&&(t.items.splice(i,1),--i)},E.prototype.collect=function(e,t,i){if(void 0===i&&(i=!0),!e){var n={};return this.items.forEach(function(e){n[e.field]||(n[e.field]=[]),n[e.field].push(i?e.msg:e)}),n}return e=e?String(e):e,t?this.items.filter(function(i){return i.field===e&&i.scope===t}).map(function(e){return i?e.msg:e}):this.items.filter(function(t){return t.field===e}).map(function(e){return i?e.msg:e})},E.prototype.count=function(){return this.items.length},E.prototype.firstById=function(e){var t=_(this.items,function(t){return t.id===e});return t?t.msg:null},E.prototype.first=function(e,t){var i=this;void 0===t&&(t=null),e=e?String(e):e;var n=this._selector(e),r=this._scope(e);if(r){var s=this.first(r.name,r.scope);if(s)return s}if(n)return this.firstByRule(n.name,n.rule,t);for(var a=0;a<this.items.length;++a)if(i.items[a].field===e&&i.items[a].scope===t)return i.items[a].msg;return null},E.prototype.firstRule=function(e,t){var i=this.collect(e,t,!1);return i.length&&i[0].rule||null},E.prototype.has=function(e,t){return void 0===t&&(t=null),!!this.first(e,t)},E.prototype.firstByRule=function(e,t,i){var n=this.collect(e,i,!1).filter(function(e){return e.rule===t})[0];return n&&n.msg||null},E.prototype.firstNot=function(e,t,i){void 0===t&&(t="required");var n=this.collect(e,i,!1).filter(function(e){return e.rule!==t})[0];return n&&n.msg||null},E.prototype.removeById=function(e){for(var t=this,i=0;i<this.items.length;++i)t.items[i].id===e&&(t.items.splice(i,1),--i)},E.prototype.remove=function(e,t){var i=this;e=e?String(e):e;for(var n=t?function(i){return i.field===e&&i.scope===t}:function(t){return t.field===e&&null===t.scope},r=0;r<this.items.length;++r)n(i.items[r])&&(i.items.splice(r,1),--r)},E.prototype._selector=function(e){if(e.indexOf(":")>-1){var t=e.split(":");return{name:t[0],rule:t[1]}}return null},E.prototype._scope=function(e){if(e.indexOf(".")>-1){var t=e.split("."),i=t[0];return{name:t[1],scope:i}}return null};var A=function(e){void 0===e&&(e={}),this.container={},this.merge(e)};A.prototype.hasLocale=function(e){return!!this.container[e]},A.prototype.setDateFormat=function(e,t){this.container[e]||(this.container[e]={}),this.container[e].dateFormat=t},A.prototype.getDateFormat=function(e){if(this.container[e])return this.container[e].dateFormat},A.prototype.getMessage=function(e,t,i){return this.hasMessage(e,t)?this.container[e].messages[t]:i||this._getDefaultMessage(e)},A.prototype.getFieldMessage=function(e,t,i){if(!this.hasLocale(e))return this.getMessage(e,i);var n=this.container[e].custom&&this.container[e].custom[t];return n&&n[i]?n[i]:this.getMessage(e,i)},A.prototype._getDefaultMessage=function(e){return this.hasMessage(e,"_default")?this.container[e].messages._default:this.container.en.messages._default},A.prototype.getAttribute=function(e,t,i){return void 0===i&&(i=""),this.hasAttribute(e,t)?this.container[e].attributes[t]:i},A.prototype.hasMessage=function(e,t){return!!(this.hasLocale(e)&&this.container[e].messages&&this.container[e].messages[t])},A.prototype.hasAttribute=function(e,t){return!!(this.hasLocale(e)&&this.container[e].attributes&&this.container[e].attributes[t])},A.prototype.merge=function(e){this._merge(this.container,e)},A.prototype.setMessage=function(e,t,i){this.hasLocale(e)||(this.container[e]={messages:{},attributes:{}}),this.container[e].messages[t]=i},A.prototype.setAttribute=function(e,t,i){this.hasLocale(e)||(this.container[e]={messages:{},attributes:{}}),this.container[e].attributes[t]=i},A.prototype._merge=function(e,t){var i=this;return v(e)&&v(t)?(Object.keys(t).forEach(function(n){if(v(t[n])){if(!e[n]){L(e,(r={},r[n]={},r));var r}i._merge(e[n],t[n])}else{L(e,(s={},s[n]=t[n],s));var s}}),e):e};var M={_default:function(e){return"The "+e+" value is not valid."},after:function(e,t){var i=t[0];return"The "+e+" must be after "+(t[1]?"or equal to ":"")+i+"."},alpha_dash:function(e){return"The "+e+" field may contain alpha-numeric characters as well as dashes and underscores."},alpha_num:function(e){return"The "+e+" field may only contain alpha-numeric characters."},alpha_spaces:function(e){return"The "+e+" field may only contain alphabetic characters as well as spaces."},alpha:function(e){return"The "+e+" field may only contain alphabetic characters."},before:function(e,t){var i=t[0];return"The "+e+" must be before "+(t[1]?"or equal to ":"")+i+"."},between:function(e,t){return"The "+e+" field must be between "+t[0]+" and "+t[1]+"."},confirmed:function(e){return"The "+e+" confirmation does not match."},credit_card:function(e){return"The "+e+" field is invalid."},date_between:function(e,t){return"The "+e+" must be between "+t[0]+" and "+t[1]+"."},date_format:function(e,t){return"The "+e+" must be in the format "+t[0]+"."},decimal:function(e,t){void 0===t&&(t=["*"]);var i=t[0];return"The "+e+" field must be numeric and may contain "+(i&&"*"!==i?i:"")+" decimal points."},digits:function(e,t){return"The "+e+" field must be numeric and exactly contain "+t[0]+" digits."},dimensions:function(e,t){return"The "+e+" field must be "+t[0]+" pixels by "+t[1]+" pixels."},email:function(e){return"The "+e+" field must be a valid email."},ext:function(e){return"The "+e+" field must be a valid file."},image:function(e){return"The "+e+" field must be an image."},in:function(e){return"The "+e+" field must be a valid value."},integer:function(e){return"The "+e+" field must be an integer."},ip:function(e){return"The "+e+" field must be a valid ip address."},length:function(e,t){var i=t[0],n=t[1];return n?"The "+e+" length be between "+i+" and "+n+".":"The "+e+" length must be "+i+"."},max:function(e,t){return"The "+e+" field may not be greater than "+t[0]+" characters."},max_value:function(e,t){return"The "+e+" field must be "+t[0]+" or less."},mimes:function(e){return"The "+e+" field must have a valid file type."},min:function(e,t){return"The "+e+" field must be at least "+t[0]+" characters."},min_value:function(e,t){return"The "+e+" field must be "+t[0]+" or more."},not_in:function(e){return"The "+e+" field must be a valid value."},numeric:function(e){return"The "+e+" field may only contain numeric characters."},regex:function(e){return"The "+e+" field format is invalid."},required:function(e){return"The "+e+" field is required."},size:function(e,t){var i=t[0];return"The "+e+" size must be less than "+n(i)+"."},url:function(e){return"The "+e+" field is not a valid URL."}},O={name:"en",messages:M,attributes:{}};(function(e){var t=null;return"undefined"!=typeof window&&(t=window),"undefined"!=typeof global&&(t=global),!(!t||!l(e,t))})("VeeValidate.Validator")&&VeeValidate.Validator.addLocale(O);var T=function(){};T.generate=function(e,t,i,n){void 0===n&&(n={});var r=T.resolveModel(t,i);return{name:T.resolveName(e,i),el:e,listen:!t.modifiers.disable,scope:T.resolveScope(e,t,i),vm:T.makeVM(i.context),expression:t.value,component:i.child,classes:n.classes,classNames:n.classNames,getter:T.resolveGetter(e,i,r),events:T.resolveEvents(e,i)||n.events,model:r,delay:T.resolveDelay(e,i,n),rules:T.resolveRules(e,t),initial:!!t.modifiers.initial,alias:T.resolveAlias(e,i),validity:n.validity,aria:n.aria}},T.resolveRules=function(e,t){return t&&t.expression?"string"==typeof t.value?t.value:~["string","object"].indexOf(typeof t.value.rules)?t.value.rules:t.value:i(e,"rules")},T.makeVM=function(e){return{get $el(){return e.$el},get $refs(){return e.$refs},$watch:e.$watch?e.$watch.bind(e):function(){},$validator:e.$validator?{errors:e.$validator.errors,validate:e.$validator.validate.bind(e.$validator),update:e.$validator.update.bind(e.$validator)}:null}},T.resolveDelay=function(e,t,n){return void 0===n&&(n={}),i(e,"delay")||t.child&&t.child.$attrs&&t.child.$attrs["data-vv-delay"]||n.delay},T.resolveAlias=function(e,t){return function(){return i(e,"as")||t.child&&t.child.$attrs&&t.child.$attrs["data-vv-as"]||e.title||null}},T.resolveEvents=function(e,t){return t.child?i(e,"validate-on")||t.child.$attrs&&t.child.$attrs["data-vv-validate-on"]:i(e,"validate-on")},T.resolveScope=function(e,t,i){void 0===i&&(i={});var n=null;return v(t.value)&&(n=t.value.scope),i.child&&!n&&(n=i.child.$attrs&&i.child.$attrs["data-vv-scope"]),n||a(e)},T.resolveModel=function(e,t){if(e.arg)return e.arg;if(v(e.value)&&e.value.arg)return e.value.arg;var i=t.data.model||_(t.data.directives,function(e){return"model"===e.name});return i&&/^[a-z_]+[0-9]*(\w*\.[a-z_]\w*)*$/i.test(i.expression)&&l(i.expression,t.context)?i.expression:null},T.resolveName=function(e,t){return t.child?i(e,"name")||t.child.$attrs&&(t.child.$attrs["data-vv-name"]||t.child.$attrs.name)||t.child.name:i(e,"name")||e.name},T.resolveGetter=function(e,t,n){if(n)return function(){return o(n,t.context)};if(t.child)return function(){var n=i(e,"value-path")||t.child.$attrs&&t.child.$attrs["data-vv-value-path"];return n?o(n,t.child):t.child.value};switch(e.type){case"checkbox":return function(){var t=document.querySelectorAll('input[name="'+e.name+'"]');if((t=$(t).filter(function(e){return e.checked})).length)return t.map(function(e){return e.value})};case"radio":return function(){var t=document.querySelectorAll('input[name="'+e.name+'"]'),i=_(t,function(e){return e.checked});return i&&i.value};case"file":return function(t){return $(e.files)};case"select-multiple":return function(){return $(e.options).filter(function(e){return e.selected}).map(function(e){return e.value})};default:return function(){return e&&e.value}}};var N={targetOf:null,initial:!1,scope:null,listen:!0,name:null,active:!0,required:!1,rules:{},vm:null,classes:!1,validity:!0,aria:!0,events:"input|blur",delay:0,classNames:{touched:"touched",untouched:"untouched",valid:"valid",invalid:"invalid",pristine:"pristine",dirty:"dirty"}},j=function(e,t){void 0===t&&(t={}),this.id=w(),this.el=e,this.updated=!1,this.dependencies=[],this.watchers=[],this.events=[],this.rules={},this.isHeadless||this.targetOf||t.targetOf||r(this.el,"id",this.id),t=L({},N,t),this.validity=t.validity,this.aria=t.aria,this.flags={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1},this.vm=t.vm||this.vm,this.component=t.component||this.component,this.update(t),this.updated=!1},F={isVue:{},validator:{},isRequired:{},isDisabled:{},isHeadless:{},displayName:{},value:{},rejectsFalse:{}};F.isVue.get=function(){return!!this.component},F.validator.get=function(){return this.vm&&this.vm.$validator?this.vm.$validator:(f("No validator instance detected."),{validate:function(){}})},F.isRequired.get=function(){return!!this.rules.required},F.isDisabled.get=function(){return this.isVue&&this.component.disabled||this.el&&this.el.disabled},F.isHeadless.get=function(){return!this.el},F.displayName.get=function(){return p(this.alias)?this.alias():this.alias},F.value.get=function(){if(p(this.getter))return this.getter()},F.rejectsFalse.get=function(){return!this.isVue&&!this.isHeadless&&"checkbox"===this.el.type},j.prototype.matches=function(e){return e.id?this.id===e.id:void 0===e.name&&void 0===e.scope||(void 0===e.scope?this.name===e.name:void 0===e.name?this.scope===e.scope:e.name===this.name&&e.scope===this.scope)},j.prototype.update=function(e){this.targetOf=e.targetOf||null,this.initial=e.initial||this.initial||!1,this.updated&&e.scope&&e.scope!==this.scope&&p(this.validator.update)&&this.validator.update(this.id,{scope:e.scope}),this.scope=e.scope||this.scope||null,this.name=(e.name?String(e.name):e.name)||this.name||null,this.rules=void 0!==e.rules?c(e.rules):this.rules,this.model=e.model||this.model,this.listen=void 0!==e.listen?e.listen:this.listen,this.classes=e.classes||this.classes||!1,this.classNames=e.classNames||this.classNames||N.classNames,this.alias=e.alias||this.alias,this.getter=p(e.getter)?e.getter:this.getter,this.delay=e.delay||this.delay||0,this.events="string"==typeof e.events&&e.events.length?e.events.split("|"):this.events,this.updateDependencies(),this.addActionListeners(),void 0!==e.rules&&(this.flags.required=this.isRequired),this.flags.validated&&void 0!==e.rules&&this.updated&&this.validator.validate("#"+this.id),this.updated=!0,this.isHeadless||(this.updateClasses(),this.addValueListeners(),this.updateAriaAttrs())},j.prototype.reset=function(){var e=this,t={untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1};Object.keys(this.flags).forEach(function(i){e.flags[i]=t[i]}),this.addActionListeners(),this.updateClasses(),this.validator.errors&&p(this.validator.errors.removeById)&&this.validator.errors.removeById(this.id)},j.prototype.setFlags=function(e){var t=this,i={pristine:"dirty",dirty:"pristine",valid:"invalid",invalid:"valid",touched:"untouched",untouched:"touched"};Object.keys(e).forEach(function(n){t.flags[n]=e[n],i[n]&&void 0===e[i[n]]&&(t.flags[i[n]]=!e[n])}),void 0===e.untouched&&void 0===e.touched&&void 0===e.dirty&&void 0===e.pristine||this.addActionListeners(),this.updateClasses(),this.updateAriaAttrs(),this.updateCustomValidity()},j.prototype.updateDependencies=function(){var e=this;this.dependencies.forEach(function(e){return e.field.destroy()}),this.dependencies=[];var t=Object.keys(this.rules).reduce(function(t,i){return"confirmed"===i?t.push({selector:e.rules[i][0]||e.name+"_confirmation",name:i}):/after|before/.test(i)&&t.push({selector:e.rules[i][0],name:i}),t},[]);t.length&&this.vm&&this.vm.$el&&t.forEach(function(t){var i=t.selector,n=t.name,r=null;if("$"===i[0])r=e.vm.$refs[i.slice(1)];else try{r=e.vm.$el.querySelector(i)}catch(e){r=null}if(r||(r=e.vm.$el.querySelector('input[name="'+i+'"]')),r){var s={vm:e.vm,classes:e.classes,classNames:e.classNames,delay:e.delay,scope:e.scope,events:e.events.join("|"),initial:e.initial,targetOf:e.id};p(r.$watch)?(s.component=r,s.el=r.$el,s.alias=T.resolveAlias(r.$el,{child:r}),s.getter=T.resolveGetter(r.$el,{child:r})):(s.el=r,s.alias=T.resolveAlias(r,{}),s.getter=T.resolveGetter(r,{})),e.dependencies.push({name:n,field:new j(s.el,s)})}})},j.prototype.unwatch=function(e){if(void 0===e&&(e=null),!e)return this.watchers.forEach(function(e){return e.unwatch()}),void(this.watchers=[]);this.watchers.filter(function(t){return e.test(t.tag)}).forEach(function(e){return e.unwatch()}),this.watchers=this.watchers.filter(function(t){return!e.test(t.tag)})},j.prototype.updateClasses=function(){this.classes&&(b(this.el,this.classNames.dirty,this.flags.dirty),b(this.el,this.classNames.pristine,this.flags.pristine),b(this.el,this.classNames.valid,!!this.flags.valid),b(this.el,this.classNames.invalid,!!this.flags.invalid),b(this.el,this.classNames.touched,this.flags.touched),b(this.el,this.classNames.untouched,this.flags.untouched))},j.prototype.addActionListeners=function(){var e=this;this.unwatch(/class/);var t=function(){e.flags.touched=!0,e.flags.untouched=!1,e.classes&&(b(e.el,e.classNames.touched,!0),b(e.el,e.classNames.untouched,!1)),e.unwatch(/^class_blur$/)},i=x(this.el),n=function(){e.flags.dirty=!0,e.flags.pristine=!1,e.classes&&(b(e.el,e.classNames.pristine,!1),b(e.el,e.classNames.dirty,!0)),e.unwatch(/^class_input$/)};if(this.isVue&&p(this.component.$once))return this.component.$once("input",n),this.component.$once("blur",t),this.watchers.push({tag:"class_input",unwatch:function(){e.component.$off("input",n)}}),void this.watchers.push({tag:"class_blur",unwatch:function(){e.component.$off("blur",t)}});if(!this.isHeadless){this.el.addEventListener(i,n);var r=-1===["radio","checkbox"].indexOf(this.el.type)?"blur":"click";this.el.addEventListener(r,t),this.watchers.push({tag:"class_input",unwatch:function(){e.el.removeEventListener(i,n)}}),this.watchers.push({tag:"class_blur",unwatch:function(){e.el.removeEventListener(r,t)}})}},j.prototype.addValueListeners=function(){var e=this;if(this.unwatch(/^input_.+/),this.listen){var t=this.targetOf?function(){e.validator.validate("#"+e.targetOf)}:function(){e.validator.validate("#"+e.id)},i=d(t,this.delay),n=x(this.el),r=this.events.map(function(e){return"input"===e?n:e});if(this.model&&-1!==r.indexOf(n)){var s=this.vm.$watch(this.model,i);this.watchers.push({tag:"input_model",unwatch:s}),r=r.filter(function(e){return e!==n})}r.forEach(function(t){if(e.isVue)return e.component.$on(t,i),void e.watchers.push({tag:"input_vue",unwatch:function(){e.component.$off(t,i)}});if(~["radio","checkbox"].indexOf(e.el.type)){var n=document.querySelectorAll('input[name="'+e.el.name+'"]');$(n).forEach(function(n){n.addEventListener(t,i),e.watchers.push({tag:"input_native",unwatch:function(){n.removeEventListener(t,i)}})})}else e.el.addEventListener(t,i),e.watchers.push({tag:"input_native",unwatch:function(){e.el.removeEventListener(t,i)}})})}},j.prototype.updateAriaAttrs=function(){this.aria&&!this.isHeadless&&p(this.el.setAttribute)&&(this.el.setAttribute("aria-required",this.isRequired?"true":"false"),this.el.setAttribute("aria-invalid",this.flags.invalid?"true":"false"))},j.prototype.updateCustomValidity=function(){this.validity&&!this.isHeadless&&p(this.el.setCustomValidity)&&this.el.setCustomValidity(this.flags.valid?"":this.validator.errors.firstById(this.id)||"")},j.prototype.destroy=function(){this.watchers.forEach(function(e){return e.unwatch()}),this.watchers=[],this.dependencies.forEach(function(e){return e.field.destroy()}),this.dependencies=[]},Object.defineProperties(j.prototype,F);var D=function(){this.items=[]},V={length:{}};V.length.get=function(){return this.items.length},D.prototype.find=function(e){return _(this.items,function(t){return t.matches(e)})},D.prototype.filter=function(e){return Array.isArray(e)?this.items.filter(function(t){return e.some(function(e){return t.matches(e)})}):this.items.filter(function(t){return t.matches(e)})},D.prototype.map=function(e){return this.items.map(e)},D.prototype.remove=function(e){var t=null;if(!(t=e instanceof j?e:this.find(e)))return null;var i=this.items.indexOf(t);return this.items.splice(i,1),t},D.prototype.push=function(e){if(!(e instanceof j))throw h("FieldBag only accepts instances of Field that has an id defined.");if(!e.id)throw h("Field id must be defined.");if(this.find({id:e.id}))throw h("Field with id "+e.id+" is already added.");this.items.push(e)},Object.defineProperties(D.prototype,V);var B={},k="en",q=!0,S=new A({en:{messages:M,attributes:{},custom:{}}}),P=function(e,t){var i=this;void 0===t&&(t={vm:null,fastExit:!0}),this.strict=q,this.errors=new E,this.fields=new D,this.flags={},this._createFields(e),this.paused=!1,this.fastExit=t.fastExit||!1,this.ownerId=t.vm&&t.vm._uid,this.reset=t.vm&&p(t.vm.$nextTick)?function(){t.vm.$nextTick(function(){i.fields.items.forEach(function(e){return e.reset()}),i.errors.clear()})}:function(){i.fields.items.forEach(function(e){return e.reset()}),i.errors.clear()},this.clean=function(){f("validator.clean is marked for deprecation, please use validator.reset instead."),i.reset()}},R={dictionary:{},locale:{},rules:{}},Y={dictionary:{},locale:{},rules:{}};R.dictionary.get=function(){return S},Y.dictionary.get=function(){return S},R.locale.get=function(){return k},R.locale.set=function(e){P.locale=e},Y.locale.get=function(){return k},Y.locale.set=function(e){S.hasLocale(e)||f("You are setting the validator locale to a locale that is not defined in the dicitionary. English messages may still be generated."),k=e},R.rules.get=function(){return B},Y.rules.get=function(){return B},P.create=function(e,t){return new P(e,t)},P.extend=function(e,t){P._guardExtend(e,t),P._merge(e,t)},P.remove=function(e){delete B[e]},P.setLocale=function(e){void 0===e&&(e="en"),P.locale=e},P.installDateTimeValidators=function(){f("Date validations are now installed by default, you no longer need to install it.")},P.prototype.installDateTimeValidators=function(){f("Date validations are now installed by default, you no longer need to install it.")},P.setStrictMode=function(e){void 0===e&&(e=!0),q=e},P.updateDictionary=function(e){S.merge(e)},P.addLocale=function(e){if(e.name){this.updateDictionary((t={},t[e.name]=e,t));var t}else f("Your locale must have a name property")},P.prototype.addLocale=function(e){P.addLocale(e)},P.prototype.localize=function(e,t){P.localize(e,t)},P.localize=function(e,t){t&&(t=L({},t,{name:e}),P.addLocale(t)),P.locale=e},P.prototype.attach=function(e){return arguments.length>1&&(e=L({},{name:arguments[0],rules:arguments[1]},arguments[2]||{vm:{$validator:this}})),e instanceof j||(e=new j(e.el||null,e)),this.fields.push(e),e.initial?this.validate("#"+e.id,e.value):this._validate(e,e.value,!0).then(function(t){e.flags.valid=t,e.flags.invalid=!t}),this._addFlag(e,e.scope),e},P.prototype.flag=function(e,t){var i=this._resolveField(e);i&&t&&i.setFlags(t)},P.prototype.detach=function(e,t){var i=e instanceof j?e:this._resolveField(e,t);if(i){i.destroy(),this.errors.removeById(i.id),this.fields.remove(i);var n=this.flags;i.scope&&n["$"+i.scope]?delete n["$"+i.scope][i.name]:i.scope||delete n[i.name],this.flags=L({},n)}},P.prototype.extend=function(e,t){P.extend(e,t)},P.prototype.update=function(e,t){var i=t.scope,n=this._resolveField("#"+e);this.errors.update(e,{scope:i}),n.scope&&this.flags["$"+n.scope]?delete this.flags["$"+n.scope][n.name]:n.scope||delete this.flags[n.name],this._addFlag(n,i)},P.prototype.remove=function(e){P.remove(e)},P.prototype.setLocale=function(e){this.locale=e},P.prototype.updateDictionary=function(e){P.updateDictionary(e)},P.prototype.validate=function(e,t,i){if(void 0===i&&(i=null),this.paused)return Promise.resolve(!0);if(0===arguments.length)return this.validateScopes();if(1===arguments.length&&"*"===arguments[0])return this.validateAll();if(1===arguments.length&&"string"==typeof arguments[0]&&/^(.+)\.\*$/.test(arguments[0])){var n=arguments[0].match(/^(.+)\.\*$/)[1];return this.validateAll(n)}var r=this._resolveField(e,i);if(!r)return this._handleFieldNotFound(e,i);this.errors.removeById(r.id),r.flags.pending=!0,1===arguments.length&&(t=r.value);var s=r.isDisabled;return this._validate(r,t,s).then(function(e){return r.setFlags({pending:!1,valid:e,validated:!0}),s?Promise.resolve(!0):e})},P.prototype.pause=function(){return this.paused=!0,this},P.prototype.resume=function(){return this.paused=!1,this},P.prototype.validateAll=function(e){var t=arguments,i=this;if(this.paused)return Promise.resolve(!0);var n=null,r=!1;"string"==typeof e?n={scope:e}:v(e)?(n=Object.keys(e).map(function(e){return{name:e,scope:t[1]||null}}),r=!0):0===arguments.length&&(n={scope:null});var s=this.fields.filter(n).map(function(t){return i.validate("#"+t.id,r?e[t.name]:t.value)});return Promise.all(s).then(function(e){return e.every(function(e){return e})})},P.prototype.validateScopes=function(){var e=this;if(this.paused)return Promise.resolve(!0);var t=this.fields.map(function(t){return e.validate("#"+t.id,t.value)});return Promise.all(t).then(function(e){return e.every(function(e){return e})})},P.prototype._createFields=function(e){var t=this;e&&Object.keys(e).forEach(function(i){var n=L({},{name:i,rules:e[i]});t.attach(n)})},P.prototype._getDateFormat=function(e){var t=null;return e.date_format&&Array.isArray(e.date_format)&&(t=e.date_format[0]),t||this.dictionary.getDateFormat(this.locale)},P.prototype._isADateRule=function(e){return!!~["after","before","date_between","date_format"].indexOf(e)},P.prototype._formatErrorMessage=function(e,t,i,n){void 0===i&&(i={}),void 0===n&&(n=null);var r=this._getFieldDisplayName(e),s=this._getLocalizedParams(t,n);if(!this.dictionary.hasLocale(k)){var a=this.dictionary.getFieldMessage("en",e.name,t.name);return p(a)?a(r,s,i):a}var o=this.dictionary.getFieldMessage(k,e.name,t.name);return p(o)?o(r,s,i):o},P.prototype._getLocalizedParams=function(e,t){return void 0===t&&(t=null),~["after","before","confirmed"].indexOf(e.name)&&e.params&&e.params[0]?[t||this.dictionary.getAttribute(k,e.params[0],e.params[0])].concat(e.params.slice(1)):e.params},P.prototype._getFieldDisplayName=function(e){return e.displayName||this.dictionary.getAttribute(k,e.name,e.name)},P.prototype._addFlag=function(e,t){if(void 0===t&&(t=null),t){var i,n=L({},this.flags["$"+t]||{},(i={},i[""+e.name]=e.flags,i));this.flags=L({},this.flags,(r={},r["$"+t]=n,r));var r}else{this.flags=L({},this.flags,(s={},s[""+e.name]=e.flags,s));var s}},P.prototype._test=function(e,t,i,n){var r=this,s=B[i.name],a=Array.isArray(i.params)?$(i.params):[],o=null;if(!s||"function"!=typeof s)throw h("No such validator '"+i.name+"' exists.");if(/(confirmed|after|before)/.test(i.name)){var l=_(e.dependencies,function(e){return e.name===i.name});l&&(o=l.field.displayName,a=[l.field.value].concat(a.slice(1)))}else"required"===i.name&&e.rejectsFalse&&(a=a.length?a:[!0]);if(this._isADateRule(i.name)){var u=this._getDateFormat(e.rules);"date_format"!==i.name&&a.push(u)}var c=s(t,a);return p(c.then)?c.then(function(t){var s=!0,a={};return Array.isArray(t)?s=t.every(function(e){return v(e)?e.valid:e}):(s=v(t)?t.valid:t,a=t.data),s||n||r.errors.add({id:e.id,field:e.name,msg:r._formatErrorMessage(e,i,a,o),rule:i.name,scope:e.scope}),s}):(v(c)||(c={valid:c,data:{}}),c.valid||n||this.errors.add({id:e.id,field:e.name,msg:this._formatErrorMessage(e,i,c.data,o),rule:i.name,scope:e.scope}),c.valid)},P._merge=function(e,t){p(t)?B[e]=t:(B[e]=t.validate,p(t.getMessage)&&S.setMessage(k,e,t.getMessage),t.messages&&S.merge(Object.keys(t.messages).reduce(function(i,n){var r=i;r[n]={messages:(s={},s[e]=t.messages[n],s)};var s;return r},{})))},P._guardExtend=function(e,t){if(!p(t)){if(!p(t.validate))throw h("Extension Error: The validator '"+e+"' must be a function or have a 'validate' method.");if(!p(t.getMessage)&&!v(t.messages))throw h("Extension Error: The validator '"+e+"' must have a 'getMessage' method or have a 'messages' object.")}},P.prototype._resolveField=function(e,t){if(t)return this.fields.find({name:e,scope:t});if("#"===e[0])return this.fields.find({id:e.slice(1)});if(e.indexOf(".")>-1){var i=e.split("."),n=this.fields.find({name:i[1],scope:i[0]});if(n)return n}return this.fields.find({name:e,scope:null})},P.prototype._handleFieldNotFound=function(e,t){if(!this.strict)return Promise.resolve(!0);throw h('Validating a non-existant field: "'+(t?e:(t?t+".":"")+e)+'". Use "attach()" first.')},P.prototype._validate=function(e,t,i){var n=this;if(void 0===i&&(i=!1),!e.isRequired&&~[null,void 0,""].indexOf(t))return Promise.resolve(!0);var r=[],s=!1;return Object.keys(e.rules).some(function(a){var o=n._test(e,t,{name:a,params:e.rules[a]},i);if(p(o.then))r.push(o);else if(n.fastExit&&!o)s=!0;else{var l=new Promise(function(e){e(o)});r.push(l)}return s}),s?Promise.resolve(!1):Promise.all(r).then(function(e){return e.every(function(e){return e})})},Object.defineProperties(P.prototype,R),Object.defineProperties(P,Y);var C,z=function(e,t){return"undefined"==typeof Proxy?e:new Proxy(e,t)}({},{get:function(e,t){return 0===String(t).indexOf("$")?z:{untouched:!0,touched:!1,dirty:!1,pristine:!0,valid:null,invalid:null,validated:!1,pending:!1,required:!1}}}),I=function(e){return!!e&&(!(!Array.isArray(e)||!~e.indexOf("$validator"))||!(!v(e)||!e.$validator))},H=function(e,t){return new P(null,{vm:e,fastExit:t.fastExit})},G=function(e,t){void 0===t&&(t={});var i={};return i.provide=function(){return this.$validator?{$validator:this.$validator}:{}},i.beforeCreate=function(){!this.$options.$validates&&this.$parent||(this.$validator=H(this,t));var i=I(this.$options.inject);this.$validator||!t.inject||i||(this.$validator=H(this,t)),(i||this.$validator)&&(!i&&this.$validator&&(e.util.defineReactive(this.$validator,"errors",this.$validator.errors),e.util.defineReactive(this.$validator,"flags",this.$validator.flags)),this.$options.computed||(this.$options.computed={}),this.$options.computed[t.errorBagName||"errors"]=function(){return this.$validator.errors},this.$options.computed[t.fieldsBagName||"fields"]=function(){return Object.keys(this.$validator.flags).length?this.$validator.flags:z})},i.beforeDestroy=function(){this.$validator&&this.$validator.ownerId===this._uid&&p(this.$validator.pause)&&this.$validator.pause()},i},U={locale:"en",delay:0,errorBagName:"errors",dictionary:null,strict:!0,fieldsBagName:"fields",classes:!1,classNames:void 0,events:"input|blur",inject:!0,fastExit:!0,aria:!0,validity:!1},K=function(e,t){return t&&t.$validator?t.$validator.fields.find({id:i(e,"id")}):null},Z=function(e){return e=L({},U,e),{bind:function(t,i,n){var r=n.context.$validator;if(r){var s=T.generate(t,i,n,e);r.attach(s)}else f("No validator instance is present on vm, did you forget to inject '$validator'?")},inserted:function(e,t,i){var n=K(e,i.context),r=T.resolveScope(e,t,i);n&&r!==n.scope&&(n.update({scope:r}),n.updated=!1)},update:function(e,t,i){var n=K(e,i.context);if(!(!n||n.updated&&s(t.value,t.oldValue))){var r=T.resolveScope(e,t,i),a=T.resolveRules(e,t);n.update({scope:r,rules:a})}},unbind:function(e,t,i){var n=i.context,r=K(e,n);r&&n.$validator.detach(r)}}},J=function(e){return Array.isArray(e)?e.reduce(function(e,t){return~t.indexOf(".")?e[t.split(".")[1]]=t:e[t]=t,e},{}):e};return{install:function(e,t){if(void 0===t&&(t={}),C)f("already installed, Vue.use(VeeValidate) should only be called once.");else{C=e;var i=L({},U,t);i.dictionary&&P.updateDictionary(i.dictionary),t&&(t.locale&&(P.locale=t.locale),t.strict&&P.setStrictMode(i.strict)),C.mixin(G(C,i)),C.directive("validate",Z(i))}},use:function(e,t){if(void 0===t&&(t={}),!p(e))return f("The plugin must be a callable function");e({Validator:P,ErrorBag:E,Rules:P.rules},t)},mapFields:function(e){var t=J(e);return Object.keys(t).reduce(function(e,i){var n=t[i];return e[i]=function(){if(this.$validator.fieldBag[n])return this.$validator.fieldBag[n];if(n.indexOf(".")<=0)return{};var e=n.split("."),t=e[0],i=e[1];return o("$"+t+"."+i,this.$validator.fieldBag,{})},e},{})},Validator:P,ErrorBag:E,version:"2.0.0-rc.14"}});